<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2012 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
global $var_yttheme;
?>

<div class="header-style-8">
	<div class="yt-header-top">
		<div class="container">
			<div class="row">
				<div class="language-currency col-lg-6 col-md-6 col-sm-6 col-xs-12">
					<div class="inner">
					<?php echo $this->getChildHtml('store_language') ?>
					<?php echo $this->getChildHtml('currency'); ?>                    
					</div>
				</div>
				<div class="head-quicklink col-lg-6 col-md-6 col-sm-6 col-xs-12">
					<div class="inner">
					<?php echo $this->getChildHtml('topLinks');?>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="yt-header-middle">
		<div class="container">
			<div class="row">
			<div class="logo col-lg-3 col-md-3 col-sm-12 col-xs-12">
				<a href="<?php echo $this->getUrl('') ?>" title="<?php echo $this->getLogoAlt() ?>" class="logo"><img src="<?php echo $this->getLogoSrc() ?>" alt="<?php echo $this->getLogoAlt() ?>" />
				</a>
			</div>
			<div class="header-middle-right col-lg-9 col-md-9 col-sm-12 col-xs-12">
				<div class="head-cart">
					<?php echo $this->getChildHtml('mini-cartpro') ?>
				</div>
				
				<?php if ($this->getChildHtml('searchbox')) { ?>
					<div class="head-searchbox">
						<?php echo $this->getChildHtml('searchbox') ?>
					</div>        
				<?php } ?>    
			</div>
		</div>
		</div>
	</div>

	<div class="header-bottom">
		<div class="container">
			<div class="row">
				<div id="yt_header_left" class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
					<div id="yt-responsivemenu" class="yt-responsivemenu">
						<?php echo $this->getChildHtml('mobiMenu'); ?>
					</div>
					<div id="yt_menu_short">
						<div id="btn_categories">
							<span><i class="icon-cate"></i><?php echo $this->__("Categories"); ?></span>
						</div>
						<div class="yt-menu-content">
						<?php if( $var_yttheme->getParam('menustyle') == 'mega' ){
							echo $this->getChildHtml('megamenu-vertical');
						} else {
							echo $this->getLayout()->createBlock('catalog/navigation')->setTemplate('catalog/navigation/top4.phtml')->tohtml();
						} ?>
						</div>
					</div>        
				</div>  
				
				<div class="col-lg-9 col-md-9 horizontal-container">
					<div class="mega-horizontal-right">
						<?php echo $this->getChildHtml('megamenu-horizontal') ?>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	jQuery(document).ready(function($){
        //menu more cate
		$i = 0;
		$('.sm_megamenu_wrapper_vertical_menu .sm_megamenu_menu').append('<div class="more-wrap"><span class="more-view"><?php echo $this->__("More Categories"); ?></span></div>');
		$('.sm_megamenu_wrapper_vertical_menu .sm_megamenu_menu > li.sm_megamenu_lv1').each(function(){
			$i ++; 
			if($i>11){ 
				$(this).css('display', 'none');
			}			
		});

		$('.sm_megamenu_wrapper_vertical_menu .sm_megamenu_menu .more-wrap > .more-view').click(function(){
			if($(this).hasClass('open')){
				$i=0;
				$('.sm_megamenu_wrapper_vertical_menu .sm_megamenu_menu > li.sm_megamenu_lv1').each(function(){
					$i ++;
					if($i>11){
						$(this).slideUp(200);
                        //$(this).addClass('disappear');
                        //$(this).removeClass('appear');
					}
				});
				$(this).removeClass('open');
				$('.more-wrap').removeClass('active-i');
				$(this).text('More Categories');
			}else{
				$i=0;
				$('.sm_megamenu_wrapper_vertical_menu .sm_megamenu_menu > li.sm_megamenu_lv1').each(function(){
					$i ++;
					if($i>11){
						$(this).slideDown(200);
                        // $(this).addClass('appear');
                         //$(this).removeClass('disappear');
					}
				});
				$(this).addClass('open');
				$('.more-wrap').addClass('active-i');
				$(this).text('Close Menu');
			}
		});
		
		// style for quicklink
        $("#yt_header .head-quicklink .links li").mouseenter(function(){
            $("#yt_header .head-quicklink .links li.first").addClass('inactive');
        });
        $("#yt_header .head-quicklink .links li").mouseleave(function(){
            $("#yt_header .head-quicklink .links li.first").removeClass('inactive');
        });
        $("#yt_header .head-quicklink .links li.first").mouseenter(function(){
            $("#yt_header .head-quicklink .links li.first").removeClass('inactive');
        });

		/*fix show button more*/
		
		var n = $('.sm_megamenu_wrapper_vertical_menu .sm_megamenu_menu > li.sm_megamenu_lv1').length;

		if(n < 11){
			$('.sm_megamenu_wrapper_vertical_menu .more-wrap').css('display', 'none');
		} else{
			$('.sm_megamenu_wrapper_vertical_menu .more-wrap').css('display', 'block');
		}
	})
</script>